<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Dialogue System | Roguelite documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Dialogue System | Roguelite documentation ">
    <meta name="generator" content="docfx 2.59.4.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list">Search Results for <span></span></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination" data-first="First" data-prev="Previous" data-next="Next" data-last="Last"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="dialogue-system">Dialogue System</h1>

<h2 id="adding-new-actor-to-the-hub">Adding new Actor to the HUB</h2>
<p>To add a new Actor to the hub</p>
<p><strong>In the Dialogue Editor Menu:</strong></p>
<p>The Dialogue Editor Menu can be found at the menu bar up the top under Tools-&gt;Pixel Crushers-&gt;Dialogue System-&gt;Dialogue Editor.</p>
<ul>
<li>Select the Actors tab (in between Database &amp; Quests/Items) and Add a new Actor to the list.</li>
<li>Change the <em>Name</em> of the newly created actor and make sure it is selected, view the details of the actor in the right hand side inspector.</li>
<li>Make a note of the <em>ID</em> field (should be uneditable) and recall this as <em>ActorID</em>.</li>
<li>Open the <em>Portrait Textures</em> dropdown and drag in the actor&#39;s portrait art (Will eventually be replaced with <em>Portrait Sprites</em> in due time)</li>
</ul>
<p><img src="../resources/SpawningEnemies/SpawningEnemies_Waves.png" alt="waves"></p>
<p><strong>In the Hub_Location Scene:</strong></p>
<p>The Hub_Location scene can be found in the Project files under Scenes/Locations/Hub_Location.unity</p>
<ul>
<li>In the hierarchy, Duplicate a pre-existing <em>NPC GameObject</em> (i.e. Herbert) and rename AND REPOSITION IT WITHIN THE SCENE SO IT DOES NOT OVERLAP. Make sure the GameObject is disabled (Dark grey in the hierarchy)</li>
<li>Keeping it selected, within the right hand side inspector, assign <em>Actor ID</em> under the Hub NPC script to the previously noted <em>ActorID</em> from the corresponding Actor entry under the Dialogue Editor Menu.</li>
<li>Under the NPCHubManager object in the hierarchy, In the Hub NPC Manager script, open the Actors dropdown.</li>
<li>Create a new element in the list, and drag in the newly created/duplicated <em>NPC GameObject</em>.</li>
</ul>
<p>The Actor should now be properly configured and become enabled once they have a conversation that allows them to spawn.</p>
<h2 id="adding-new-conversation">Adding new conversation</h2>
<p><strong>In the Dialogue Editor Menu:</strong></p>
<ul>
<li>Select the Conversations tab (in between Variables &amp; Templates).</li>
<li>Directly under the Conversations tab is the Conversations toolbar, press the (+) button next to the dropdown containing all conversations to add a new conversation.</li>
<li>Select empty space (the grid) within the Conversation Graph window (this will default to selecting the conversation as a whole in the right hand side inspector).</li>
<li>Change the Title field in the RHS inspector </li>
<li>Take note of the <em>Actor</em> and <em>Conversant</em> fields. Change the <em>Conversant</em></li>
</ul>
<h3 id="conversation-settings--conditions">Conversation settings &amp; conditions</h3>
<p><img src="../resources/SpawningEnemies/wave_details.png" alt="wave details"></p>
<p>Populate the enemiesToSpawn array with enemy prefabs under Assets/Prefabs/Enemies.
Feel free to use duplicate entries in order to spawn more than one of the same type of enemy.</p>
<h4 id="preconditions">Preconditions</h4>
<p>Preconditions dictate what needs to happen <em>before</em> spawning in the wave.</p>
<p><strong>waveInitialSpawnDelay</strong> : If assigned to the first wave, it will spawn n seconds after OnSceneReady.\
Subsequent waves will spawn n seconds after the previous wave has been considered Complete.\
Good to keep this &gt;0.5 in order to give the player some time to breathe when entering a location or after a wave.</p>
<h4 id="complete-conditions">Complete Conditions</h4>
<p>Complete conditions dictate what needs to happen for the wave to be considered complete, so the EnemySpawnManager can consider the next wave, or to unlock the PlayerExit if this is the last wave.\
Each of these is completely optional, and if left unassigned or set to 0 will not be calculated.</p>
<p><strong>waveCompleteDelay</strong> : Will allow the wave to complete n seconds after spawning</p>
<p><strong>nextWaveSpawnTrigger</strong>: If assigned a SpawnWaveTrigger, it will not consider the current wave complete until the player walks through the SpawnWaveTrigger.</p>
<p><strong>mustKillAllEnemiesToCompleteWave</strong>: Self explanatory</p>
<h2 id="example">Example</h2>
<p>The following example will has three &quot;Waves&quot;, although only two waves actually spawn in enemies.</p>
<p>The first &quot;PreWave Trigger&quot; is an empty Wave with no enemies assigned, and its nextWaveSpawnTrigger is assigned to a SpawnWaveTrigger somewhere in the map.\
This will prevent the next wave (the first enemy spawning wave) from activating until the player enters the assigned SpawnWaveTrigger.</p>
<p>The second wave &quot;FirstWave&quot; is the first wave which will actually spawn in enemies, after 1 second (waveInitialSpawnDelay) of the player &quot;completing&quot; the previous wave (Entering the SpawnWaveTrigger).</p>
<p>The third wave &quot;SecondWave&quot; will activate 1 second (waveInitialSpawnDelay) after the previous wave is completed (&quot;FirstWave&quot; requires all enemies in the wave killed to complete (mustKillAllEnemiesToCompleteWave))</p>
<p><img src="../resources/SpawningEnemies/waves_example.png" alt="Example"></p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            Roguelite documentation
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
